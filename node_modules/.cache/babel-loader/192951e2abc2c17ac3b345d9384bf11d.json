{"remainingRequest":"/Users/zhengzhangxu/Documents/vue-mimi-alert/node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!/Users/zhengzhangxu/Documents/vue-mimi-alert/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/zhengzhangxu/Documents/vue-mimi-alert/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/zhengzhangxu/Documents/vue-mimi-alert/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/zhengzhangxu/Documents/vue-mimi-alert/packages/minialert/src/main.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhengzhangxu/Documents/vue-mimi-alert/packages/minialert/src/main.vue","mtime":1561110819840},{"path":"/Users/zhengzhangxu/Documents/vue-mimi-alert/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhengzhangxu/Documents/vue-mimi-alert/node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhengzhangxu/Documents/vue-mimi-alert/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhengzhangxu/Documents/vue-mimi-alert/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhengzhangxu/Documents/vue-mimi-alert/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhengzhangxu/Documents/vue-mimi-alert/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhengzhangxu/Documents/vue-mimi-alert/node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhengzhangxu/Documents/vue-mimi-alert/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhengzhangxu/Documents/vue-mimi-alert/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhengzhangxu/Documents/vue-mimi-alert/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar typeMap = {\n  success: 'success',\n  info: 'info',\n  warning: 'warning',\n  error: 'error'\n};\nexport default {\n  data: function data() {\n    return {\n      visible: false,\n      message: '',\n      duration: 2000,\n      type: 'info',\n      customClass: '',\n      onClose: null,\n      showClose: false,\n      closed: false,\n      verticalOffset: 20,\n      timer: null,\n      center: false\n    };\n  },\n  computed: {\n    typeClass: function typeClass() {\n      return this.type && !this.iconClass ? \"el-message__icon el-icon-\".concat(typeMap[this.type]) : '';\n    },\n    positionStyle: function positionStyle() {\n      return {\n        top: \"\".concat(this.verticalOffset, \"px\")\n      };\n    }\n  },\n  watch: {\n    closed: function closed(newVal) {\n      if (newVal) {\n        this.visible = false;\n      }\n    }\n  },\n  methods: {\n    handleAfterLeave: function handleAfterLeave() {\n      this.$destroy(true);\n      this.$el.parentNode.removeChild(this.$el);\n    },\n    close: function close() {\n      this.closed = true;\n\n      if (typeof this.onClose === 'function') {\n        this.onClose(this);\n      }\n    },\n    clearTimer: function clearTimer() {\n      clearTimeout(this.timer);\n    },\n    startTimer: function startTimer() {\n      var _this = this;\n\n      if (this.duration > 0) {\n        this.timer = setTimeout(function () {\n          if (!_this.closed) {\n            _this.close();\n          }\n        }, this.duration);\n      }\n    },\n    keydown: function keydown(e) {\n      if (e.keyCode === 27) {\n        // esc关闭消息\n        if (!this.closed) {\n          this.close();\n        }\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.startTimer();\n    document.addEventListener('keydown', this.keydown);\n  },\n  beforeDestroy: function beforeDestroy() {\n    document.removeEventListener('keydown', this.keydown);\n  }\n};",{"version":3,"sources":["main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAoBA,IAAA,OAAA,GAAA;AACA,EAAA,OAAA,EAAA,SADA;AAEA,EAAA,IAAA,EAAA,MAFA;AAGA,EAAA,OAAA,EAAA,SAHA;AAIA,EAAA,KAAA,EAAA;AAJA,CAAA;AAOA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,IAHA;AAIA,MAAA,IAAA,EAAA,MAJA;AAKA,MAAA,WAAA,EAAA,EALA;AAMA,MAAA,OAAA,EAAA,IANA;AAOA,MAAA,SAAA,EAAA,KAPA;AAQA,MAAA,MAAA,EAAA,KARA;AASA,MAAA,cAAA,EAAA,EATA;AAUA,MAAA,KAAA,EAAA,IAVA;AAWA,MAAA,MAAA,EAAA;AAXA,KAAA;AAaA,GAfA;AAiBA,EAAA,QAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,aAAA,KAAA,IAAA,IAAA,CAAA,KAAA,SAAA,sCAAA,OAAA,CAAA,KAAA,IAAA,CAAA,IAAA,EAAA;AACA,KAHA;AAIA,IAAA,aAJA,2BAIA;AACA,aAAA;AACA,QAAA,GAAA,YAAA,KAAA,cAAA;AADA,OAAA;AAGA;AARA,GAjBA;AA4BA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,kBACA,MADA,EACA;AACA,UAAA,MAAA,EAAA;AACA,aAAA,OAAA,GAAA,KAAA;AACA;AACA;AALA,GA5BA;AAoCA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,8BACA;AACA,WAAA,QAAA,CAAA,IAAA;AACA,WAAA,GAAA,CAAA,UAAA,CAAA,WAAA,CAAA,KAAA,GAAA;AACA,KAJA;AAMA,IAAA,KANA,mBAMA;AACA,WAAA,MAAA,GAAA,IAAA;;AACA,UAAA,OAAA,KAAA,OAAA,KAAA,UAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA;AACA;AACA,KAXA;AAaA,IAAA,UAbA,wBAaA;AACA,MAAA,YAAA,CAAA,KAAA,KAAA,CAAA;AACA,KAfA;AAiBA,IAAA,UAjBA,wBAiBA;AAAA;;AACA,UAAA,KAAA,QAAA,GAAA,CAAA,EAAA;AACA,aAAA,KAAA,GAAA,UAAA,CAAA,YAAA;AACA,cAAA,CAAA,KAAA,CAAA,MAAA,EAAA;AACA,YAAA,KAAA,CAAA,KAAA;AACA;AACA,SAJA,EAIA,KAAA,QAJA,CAAA;AAKA;AACA,KAzBA;AA0BA,IAAA,OA1BA,mBA0BA,CA1BA,EA0BA;AACA,UAAA,CAAA,CAAA,OAAA,KAAA,EAAA,EAAA;AACA;AACA,YAAA,CAAA,KAAA,MAAA,EAAA;AACA,eAAA,KAAA;AACA;AACA;AACA;AAjCA,GApCA;AAuEA,EAAA,OAvEA,qBAuEA;AACA,SAAA,UAAA;AACA,IAAA,QAAA,CAAA,gBAAA,CAAA,SAAA,EAAA,KAAA,OAAA;AACA,GA1EA;AA2EA,EAAA,aA3EA,2BA2EA;AACA,IAAA,QAAA,CAAA,mBAAA,CAAA,SAAA,EAAA,KAAA,OAAA;AACA;AA7EA,CAAA","sourcesContent":["<template>\n  <transition name=\"message-fade\" @after-leave=\"handleAfterLeave\">\n    <div :class=\"[\n        'alert-message',\n        type && !iconClass ? `el-message--${ type }` : '',\n        center ? 'is-center' : '',\n        showClose ? 'is-closable' : '',\n        customClass\n      ]\"\n      :style=\"positionStyle\" v-show=\"visible\" @mouseenter=\"clearTimer\"\n      @mouseleave=\"startTimer\" role=\"alert\">\n      <slot>\n        <p v-html=\"message\" class=\"el-message__content\"></p>\n      </slot>\n      <i v-if=\"showClose\" class=\"el-message__closeBtn el-icon-close\" @click=\"close\"></i>\n    </div>\n  </transition>\n</template>\n\n<script type=\"text/babel\">\nconst typeMap = {\n  success: 'success',\n  info: 'info',\n  warning: 'warning',\n  error: 'error'\n}\n\nexport default {\n  data() {\n    return {\n      visible: false,\n      message: '',\n      duration: 2000,\n      type: 'info',\n      customClass: '',\n      onClose: null,\n      showClose: false,\n      closed: false,\n      verticalOffset: 20,\n      timer: null,\n      center: false\n    }\n  },\n\n  computed: {\n    typeClass() {\n      return this.type && !this.iconClass ? `el-message__icon el-icon-${typeMap[this.type]}` : ''\n    },\n    positionStyle() {\n      return {\n        top: `${this.verticalOffset}px`\n      }\n    }\n  },\n\n  watch: {\n    closed(newVal) {\n      if (newVal) {\n        this.visible = false\n      }\n    }\n  },\n\n  methods: {\n    handleAfterLeave() {\n      this.$destroy(true)\n      this.$el.parentNode.removeChild(this.$el)\n    },\n\n    close() {\n      this.closed = true\n      if (typeof this.onClose === 'function') {\n        this.onClose(this)\n      }\n    },\n\n    clearTimer() {\n      clearTimeout(this.timer)\n    },\n\n    startTimer() {\n      if (this.duration > 0) {\n        this.timer = setTimeout(() => {\n          if (!this.closed) {\n            this.close()\n          }\n        }, this.duration)\n      }\n    },\n    keydown(e) {\n      if (e.keyCode === 27) {\n        // esc关闭消息\n        if (!this.closed) {\n          this.close()\n        }\n      }\n    }\n  },\n  mounted() {\n    this.startTimer()\n    document.addEventListener('keydown', this.keydown)\n  },\n  beforeDestroy() {\n    document.removeEventListener('keydown', this.keydown)\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.alert-message {\n  min-width: 100px;\n  box-sizing: border-box;\n  border-radius: 3px;\n  position: fixed;\n  left: 50%;\n  top: 20px;\n  height: 35px;\n  transform: translateX(-50%);\n  background-color: black;\n  opacity: 0.7;\n  color: white;\n  transition: opacity 0.3s, transform 0.4s, top 0.4s;\n  overflow: hidden;\n  padding: 3px 15px;\n  display: flex;\n  align-items: center;\n  .message-fade-enter,\n  .message-fade-leave-active {\n    opacity: 0;\n    transform: translate(-50%, -100%);\n  }\n}\n</style>\n\n"],"sourceRoot":"packages/minialert/src"}]}